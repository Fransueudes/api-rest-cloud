# G2 - API REST com DynamoDB e SQS usando LocalStack

Este projeto foi desenvolvido como parte da Avalia√ß√£o da disciplina de Computa√ß√£o em Nuvem.

Consiste em uma aplica√ß√£o simples de coleta e persist√™ncia de dados em ambiente simulado de nuvem, utilizando servi√ßos simulados da AWS (DynamoDB e SQS) com LocalStack, orquestrados por Docker Compose.

## üìã Sum√°rio

- [Introdu√ß√£o](#introdu√ß√£o)
- [Estrutura do Projeto](#estrutura-do-projeto)
- [Configura√ß√£o e Execu√ß√£o](#configura√ß√£o-e-execu√ß√£o)
- [Uso da API](#uso-da-api)
- [Conceitos de Aplica√ß√£o em Nuvem Aplicados](#conceitos-de-aplica√ß√£o-em-nuvem-aplicados)

## üöÄ Introdu√ß√£o

Este projeto foi desenvolvido como parte da Avalia√ß√£o da disciplina de Computa√ß√£o em Nuvem.

Consiste em uma aplica√ß√£o simples de coleta e persist√™ncia de dados em ambiente simulado de nuvem, utilizando servi√ßos simulados da AWS (DynamoDB e SQS) com LocalStack, orquestrados por Docker Compose.

## üóÇÔ∏è Estrutura do Projeto

```plaintext
üìÅ g2/
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ app.py
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ worker/
‚îÇ   ‚îú‚îÄ‚îÄ worker.py
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ entrypoint.sh
‚îú‚îÄ‚îÄ docker-compose.yml
‚îî‚îÄ‚îÄ README.md
```

## ‚öôÔ∏è Configura√ß√£o e Execu√ß√£o

Siga os passos abaixo para configurar e executar o ambiente do projeto:

### 1. Iniciar o ambiente Docker Compose

No terminal, dentro da pasta raiz do projeto, execute:

```bash
docker-compose down -v   # Opcional: para limpar volumes anteriores
docker-compose up --build
```

### 2. Verifica√ß√£o da Inicializa√ß√£o dos Servi√ßos

Aguarde a inicializa√ß√£o dos seguintes servi√ßos:

-   **üóÇÔ∏è LocalStack**: Simula os servi√ßos AWS (DynamoDB + SQS).
-   **üöÄ API**: Servi√ßo da API REST (Flask).
-   **üöÄ Worker**: Servi√ßo que consome a fila SQS e processa mensagens.

### 3. Verifica√ß√£o no Terminal

Voc√™ ver√° no terminal mensagens indicando que os servi√ßos foram inicializados corretamente, como por exemplo:

```
[API] Iniciando API Flask em 0.0.0.0:5000
[Worker] Worker iniciado. Aguardando mensagens...
[LocalStack] AWS sqs.ReceiveMessage => 200
```

Quando todos os servi√ßos estiverem rodando, a aplica√ß√£o estar√° pronta para testes.

## üí° Uso da API

Utilize os exemplos de requisi√ß√µes `curl` abaixo para testar a API:

### Criar um Usu√°rio (POST /users)

```bash
curl -X POST http://localhost:5000/users -H "Content-Type: application/json" -d '{"name": "Fabio", "email": "fabio@example.com"}'
```

**Resposta esperada:**

```json
{"message": "Usu√°rio criado com sucesso"}
```

### Listar Usu√°rios (GET /users)

```bash
curl http://localhost:5000/users
```

**Resposta esperada (exemplo):**

```json
[
    {
        "email": "fabio@example.com",
        "name": "Fabio"
    }
]
```

## ‚òÅÔ∏è Conceitos de Aplica√ß√£o em Nuvem Aplicados

Este projeto demonstra a aplica√ß√£o dos seguintes conceitos de computa√ß√£o em nuvem:

-   **Banco de Dados NoSQL (DynamoDB)**: Utilizado para persist√™ncia dos dados dos usu√°rios. Simula um servi√ßo de banco de dados gerenciado em nuvem.
-   **Fila de Mensagens (SQS)**: Utilizada para comunica√ß√£o ass√≠ncrona entre a API e o Worker, demonstrando um padr√£o de arquitetura com desacoplamento de servi√ßos.
-   **Servi√ßos Desacoplados**: A API e o Worker foram desenvolvidos como servi√ßos independentes, que se comunicam por meio de uma fila SQS. Isso permite escalabilidade e toler√¢ncia a falhas.
-   **Infraestrutura como C√≥digo (IaC)**: Todo o ambiente foi configurado com `docker-compose.yml`, permitindo r√°pida reprodu√ß√£o em qualquer m√°quina.
-   **Emula√ß√£o de Ambiente de Nuvem**: O LocalStack foi utilizado para simular os servi√ßos da AWS, permitindo testes e desenvolvimento local.

Fransueudes Alexandre Freitas
